title: "%url-pdf-to-epub%"
description: "%convert-pdf-from-url-to-epub-format-via-cloud-service%"

nodes:
  - node_id: pdf-to-epub#1
    title: "%submit-pdf-conversion2%"
    description: "%submit-pdf-url-to-cloud-conversion-service%"
    task: self::pdf-to-epub-submit
    inputs_from:
      - handle: pdf_url
        from_flow:
          - input_handle: pdf_url
        from_node:
          []
      - handle: model
        value: gundam

  - node_id: poll-pdf-transform#1
    title: "%poll-conversion-progress3%"
    description: "%poll-until-conversion-completes-and-return-download-url2%"
    task: self::poll-pdf-transform
    inputs_from:
      - handle: session_id
        from_node:
          - node_id: pdf-to-epub#1
            output_handle: session_id
      - handle: poll_interval
        value: 3
      - handle: max_attempts
        value: 100
inputs_def:
  - handle: pdf_url
    description: "%the-url-of-the-pdf-file-to-convert3%"
    json_schema:
      type: string
    nullable: false
    executor_name: python
outputs_def:
  - handle: download_url
    description: "%the-download-url-for-the-converted-epub-file2%"
    json_schema:
      type: string
    nullable: false
    executor_name: python
outputs_from:
  - handle: download_url
    from_node:
      - node_id: poll-pdf-transform#1
        output_handle: download_url
